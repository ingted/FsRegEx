namespace Email.Tests

open Expecto
open FsRegEx

module OneAmp =

    let oneAmp (email : string) =
        if email.StartsWith("@") || email.EndsWith("@") then
            false
        else
            let s = email.Split '@'
            
            if s.Length = 1 then
                false
            else
                if s.Length = 2 then
                    true
                else
                    let x = 
                        Array.take (s.Length - 1) s
                        |> Array.filter (fun x -> x.Contains("\"") )
                    x.Length = (s.Length - 1)

    [<Tests>]
    let testOneAmp =
        testList "OneAmp" [
            RFC822.test1 oneAmp 
            RFC822.test2 oneAmp
            RFC822.test3 oneAmp
            RFC822.test4 oneAmp
            RFC822.test5 oneAmp
            RFC822.test6 oneAmp
            RFC822.test7 oneAmp
            RFC822.test8 oneAmp
            RFC822.test9 oneAmp
            RFC822.test10 oneAmp
            RFC822.test11 oneAmp
            RFC822.test12 oneAmp
            RFC822.test13 oneAmp
            RFC822.test14 oneAmp
            RFC822.test15 oneAmp
            RFC822.test16 oneAmp
            RFC822.test17 oneAmp
            RFC822.test18 oneAmp
            RFC822.test19 oneAmp
            RFC822.test20 oneAmp
            RFC822.test21 oneAmp
            RFC822.test22 oneAmp
            RFC822.test23 oneAmp
            RFC822.test24 oneAmp
            RFC822.test25 oneAmp
            RFC822.test26 oneAmp
            RFC822.test27 oneAmp
            RFC822.test28 oneAmp
            RFC822.test29 oneAmp
            RFC822.test30 oneAmp
            RFC822.test31 oneAmp
            RFC822.test32 oneAmp
            RFC822.test33 oneAmp
            RFC822.test34 oneAmp
            RFC822.test35 oneAmp
            RFC822.test36 oneAmp
            RFC822.test37 oneAmp
            RFC822.test38 oneAmp
            RFC822.test39 oneAmp
            RFC822.test40 oneAmp
            RFC822.test41 oneAmp
            RFC822.test42 oneAmp
            RFC822.test43 oneAmp
            RFC822.test44 oneAmp
            RFC822.test45 oneAmp
            RFC822.test46 oneAmp
            RFC822.test47 oneAmp
            RFC822.test48 oneAmp
            RFC822.test49 oneAmp
            RFC822.test50 oneAmp
            RFC822.test51 oneAmp
            RFC822.test52 oneAmp
            RFC822.test53 oneAmp
            RFC822.test54 oneAmp
            RFC822.test55 oneAmp
            RFC822.test56 oneAmp
            RFC822.test57 oneAmp
            RFC822.test58 oneAmp
            RFC822.test59 oneAmp
            RFC822.test60 oneAmp
            RFC822.test61 oneAmp
            RFC822.test62 oneAmp
            RFC822.test63 oneAmp
            RFC822.test64 oneAmp
            RFC822.test65 oneAmp
            RFC822.test66 oneAmp
            RFC822.test67 oneAmp
            RFC822.test68 oneAmp
            RFC822.test69 oneAmp
            RFC822.test70 oneAmp
            RFC822.test71 oneAmp
            RFC822.test72 oneAmp
            RFC822.test73 oneAmp
            RFC822.test74 oneAmp
            RFC822.test75 oneAmp
            RFC822.test76 oneAmp
            RFC822.test77 oneAmp
            RFC822.test78 oneAmp
            RFC822.test79 oneAmp
            RFC822.test80 oneAmp
            RFC822.test81 oneAmp
            RFC822.test82 oneAmp
            RFC822.test83 oneAmp
            RFC822.test84 oneAmp
            RFC822.test85 oneAmp
            RFC822.test86 oneAmp
            RFC822.test87 oneAmp
            RFC822.test88 oneAmp
            RFC822.test89 oneAmp
            RFC822.test90 oneAmp
            RFC822.test91 oneAmp
            RFC822.test92 oneAmp
            RFC822.test93 oneAmp
            RFC822.test94 oneAmp
            RFC822.test95 oneAmp
            RFC822.test96 oneAmp
            RFC822.test97 oneAmp
            RFC822.test98 oneAmp
            RFC822.test99 oneAmp
            RFC822.test100 oneAmp
            RFC822.test101 oneAmp
            RFC822.test102 oneAmp
            RFC822.test103 oneAmp
            RFC822.test104 oneAmp
            RFC822.test105 oneAmp
            RFC822.test106 oneAmp
            RFC822.test107 oneAmp
            RFC822.test108 oneAmp
            RFC822.test109 oneAmp
            RFC822.test110 oneAmp
            RFC822.test111 oneAmp
            RFC822.test112 oneAmp
            RFC822.test113 oneAmp
            RFC822.test114 oneAmp
            RFC822.test115 oneAmp
            RFC822.test116 oneAmp
            RFC822.test117 oneAmp
            RFC822.test118 oneAmp
            RFC822.test119 oneAmp
            RFC822.test120 oneAmp
            RFC822.test121 oneAmp
            RFC822.test122 oneAmp
            RFC822.test123 oneAmp
            RFC822.test124 oneAmp
            RFC822.test125 oneAmp
            RFC822.test126 oneAmp
            RFC822.test127 oneAmp
            RFC822.test128 oneAmp
            RFC822.test129 oneAmp
            RFC822.test130 oneAmp
            RFC822.test131 oneAmp
            RFC822.test132 oneAmp
            RFC822.test133 oneAmp
            RFC822.test134 oneAmp
            RFC822.test135 oneAmp
            RFC822.test136 oneAmp
            RFC822.test137 oneAmp
            RFC822.test138 oneAmp
            RFC822.test139 oneAmp
            RFC822.test140 oneAmp
            RFC822.test141 oneAmp
            RFC822.test142 oneAmp
            RFC822.test143 oneAmp
            RFC822.test144 oneAmp
            RFC822.test145 oneAmp
            RFC822.test146 oneAmp
            RFC822.test147 oneAmp
            RFC822.test148 oneAmp
            RFC822.test149 oneAmp
            RFC822.test150 oneAmp
            RFC822.test151 oneAmp
            RFC822.test152 oneAmp
            RFC822.test153 oneAmp
            RFC822.test154 oneAmp
            RFC822.test155 oneAmp
            RFC822.test156 oneAmp
            RFC822.test157 oneAmp
            RFC822.test158 oneAmp
            RFC822.test159 oneAmp
            RFC822.test160 oneAmp
            RFC822.test161 oneAmp
            RFC822.test162 oneAmp
            RFC822.test163 oneAmp
            RFC822.test164 oneAmp
            RFC822.test165 oneAmp
            RFC822.test166 oneAmp
            RFC822.test167 oneAmp
            RFC822.test168 oneAmp
            RFC822.test169 oneAmp
            RFC822.test170 oneAmp
            RFC822.test171 oneAmp
            RFC822.test172 oneAmp
            RFC822.test173 oneAmp
            RFC822.test174 oneAmp
            RFC822.test175 oneAmp
            RFC822.test176 oneAmp
            RFC822.test177 oneAmp
            RFC822.test178 oneAmp
            RFC822.test179 oneAmp
            RFC822.test180 oneAmp
            RFC822.test181 oneAmp
            RFC822.test182 oneAmp
            RFC822.test183 oneAmp
            RFC822.test184 oneAmp
            RFC822.test185 oneAmp
            RFC822.test186 oneAmp
            RFC822.test187 oneAmp
            RFC822.test188 oneAmp
            RFC822.test189 oneAmp
            RFC822.test190 oneAmp
            RFC822.test191 oneAmp
            RFC822.test192 oneAmp
            RFC822.test193 oneAmp
            RFC822.test194 oneAmp
            RFC822.test195 oneAmp
            RFC822.test196 oneAmp
            RFC822.test197 oneAmp
            RFC822.test198 oneAmp
            RFC822.test199 oneAmp
            RFC822.test200 oneAmp
            RFC822.test201 oneAmp
            RFC822.test202 oneAmp
            RFC822.test203 oneAmp
            RFC822.test204 oneAmp
            RFC822.test205 oneAmp
            RFC822.test206 oneAmp
            RFC822.test207 oneAmp
            RFC822.test208 oneAmp
            RFC822.test209 oneAmp
            RFC822.test210 oneAmp
            RFC822.test211 oneAmp
            RFC822.test212 oneAmp
            RFC822.test213 oneAmp
            RFC822.test214 oneAmp
            RFC822.test215 oneAmp
            RFC822.test216 oneAmp
            RFC822.test217 oneAmp
            RFC822.test218 oneAmp
            RFC822.test219 oneAmp
            RFC822.test220 oneAmp
            RFC822.test221 oneAmp
            RFC822.test222 oneAmp
            RFC822.test223 oneAmp
            RFC822.test224 oneAmp
            RFC822.test225 oneAmp
            RFC822.test226 oneAmp
            RFC822.test227 oneAmp
            RFC822.test228 oneAmp
            RFC822.test229 oneAmp
            RFC822.test230 oneAmp
            RFC822.test231 oneAmp
            RFC822.test232 oneAmp
            RFC822.test233 oneAmp
            RFC822.test234 oneAmp
            RFC822.test235 oneAmp
            RFC822.test236 oneAmp
            RFC822.test237 oneAmp
            RFC822.test238 oneAmp
            RFC822.test239 oneAmp
            RFC822.test240 oneAmp
            RFC822.test241 oneAmp
            RFC822.test242 oneAmp
            RFC822.test243 oneAmp
            RFC822.test244 oneAmp
            RFC822.test245 oneAmp
            RFC822.test246 oneAmp
            RFC822.test247 oneAmp
            RFC822.test248 oneAmp
            RFC822.test249 oneAmp
            RFC822.test250 oneAmp
            RFC822.test251 oneAmp
            RFC822.test252 oneAmp
            RFC822.test253 oneAmp
            RFC822.test254 oneAmp
            RFC822.test255 oneAmp
            RFC822.test256 oneAmp
            RFC822.test257 oneAmp
            RFC822.test258 oneAmp
            RFC822.test259 oneAmp
            RFC822.test260 oneAmp
            RFC822.test261 oneAmp
            RFC822.test262 oneAmp
            RFC822.test263 oneAmp
            RFC822.test264 oneAmp
            RFC822.test265 oneAmp
            RFC822.test266 oneAmp
            RFC822.test267 oneAmp
            RFC822.test268 oneAmp
            RFC822.test269 oneAmp
            RFC822.test270 oneAmp
            RFC822.test271 oneAmp
            RFC822.test272 oneAmp
            RFC822.test273 oneAmp
            RFC822.test274 oneAmp
            RFC822.test275 oneAmp
            RFC822.test276 oneAmp
            RFC822.test277 oneAmp
            RFC822.test278 oneAmp
            RFC822.test279 oneAmp
            RFC822.test280 oneAmp
            ]
